{"ast":null,"code":"import _slicedToArray from\"E:/ENCRPYTIX/PROJECT-MANAGMENT-TOOL/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useEffect,useState}from\"react\";import AddProjectModal from\"./AddProjectModal\";import axios from\"axios\";import{Link}from\"react-router-dom\";import moment from\"moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Sidebar=function Sidebar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModalOpen=_useState2[0],setModalState=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),projects=_useState4[0],setProjects=_useState4[1];var _useState5=useState(window.location.pathname.slice(1)),_useState6=_slicedToArray(_useState5,2),paramsWindow=_useState6[0],setParamsWindow=_useState6[1];useEffect(function(){projectData();document.addEventListener(\"projectUpdate\",function(_ref){var detail=_ref.detail;projectData();});return function(){document.removeEventListener(\"projectUpdate\",{},false);};},[]);var projectData=function projectData(){axios.get(\"http://localhost:9000/projects/\").then(function(res){setProjects(res.data);});};var handleLocation=function handleLocation(e){setParamsWindow(new URL(e.currentTarget.href).pathname.slice(1));};var openModal=useCallback(function(){setModalState(true);},[]);var closeModal=useCallback(function(){setModalState(false);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 mb-3 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"Projects\"}),/*#__PURE__*/_jsx(\"button\",{onClick:openModal,className:\"bg-indigo-200 rounded-full p-[2px] focus:outline-none focus:ring focus:ring-indigo-200 focus:ring-offset-1\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"currentColor\",className:\"w-5 h-5 text-indigo-600\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M12 5.25a.75.75 0 01.75.75v5.25H18a.75.75 0 010 1.5h-5.25V18a.75.75 0 01-1.5 0v-5.25H6a.75.75 0 010-1.5h5.25V6a.75.75 0 01.75-.75z\",clipRule:\"evenodd\"})})})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"border-r border-gray-300 pr-2\",children:projects.map(function(project,index){return/*#__PURE__*/_jsx(\"li\",{className:\"flex justify-between\",children:/*#__PURE__*/_jsx(Link,{to:project._id,onClick:function onClick(e){return handleLocation(e);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-5 py-1.5 mb-1 text-gray-600 font text-sm capitalize select-none hover:text-indigo-600 rounded transition-colors hover:bg-indigo-200 \".concat(paramsWindow===project._id&&\"text-indigo-600 bg-indigo-200/80\"),children:[/*#__PURE__*/_jsx(\"span\",{children:project.title}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500 text-sm\",children:[\"Assigned: \",moment(project.createdAt).format(\"DD-MM-YYYY\")]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-600 text-sm\",children:[\"Deadline: \",moment(project.deadline).add(10,'days').format(\"DD-MM-YYYY\")]})]})})},index);})}),/*#__PURE__*/_jsx(AddProjectModal,{isModalOpen:isModalOpen,closeModal:closeModal})]});};export default Sidebar;","map":{"version":3,"names":["React","useCallback","useEffect","useState","AddProjectModal","axios","Link","moment","Sidebar","isModalOpen","setModalState","projects","setProjects","window","location","pathname","slice","paramsWindow","setParamsWindow","projectData","document","addEventListener","detail","removeEventListener","get","then","res","data","handleLocation","e","URL","currentTarget","href","openModal","closeModal","map","project","index","_id","title","createdAt","format","deadline","add"],"sources":["E:/ENCRPYTIX/PROJECT-MANAGMENT-TOOL/client/src/components/Sidebar.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\r\nimport AddProjectModal from \"./AddProjectModal\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\n\r\n\r\nconst Sidebar = () => {\r\n  const [isModalOpen, setModalState] = useState(false);\r\n  const [projects, setProjects] = useState([]);\r\n  const [paramsWindow, setParamsWindow] = useState(\r\n    window.location.pathname.slice(1)\r\n  );\r\n\r\n  useEffect(() => {\r\n    projectData();\r\n    document.addEventListener(\"projectUpdate\", ({ detail }) => {\r\n      projectData();\r\n    });\r\n    return () => {\r\n      document.removeEventListener(\"projectUpdate\", {}, false);\r\n    };\r\n  }, []);\r\n\r\n  const projectData = () => {\r\n    axios.get(\"http://localhost:9000/projects/\").then((res) => {\r\n      setProjects(res.data);\r\n    });\r\n  };\r\n\r\n  const handleLocation = (e) => {\r\n    setParamsWindow(new URL(e.currentTarget.href).pathname.slice(1));\r\n  };\r\n\r\n  const openModal = useCallback(() => {\r\n    setModalState(true);\r\n  }, []);\r\n\r\n  const closeModal = useCallback(() => {\r\n    setModalState(false);\r\n  }, []);\r\n\r\n  return (\r\n    <div className='py-5'>\r\n      <div className='px-4 mb-3 flex items-center justify-between'>\r\n        <span className=''>Projects</span>\r\n        <button\r\n          onClick={openModal}\r\n          className='bg-indigo-200 rounded-full p-[2px] focus:outline-none focus:ring focus:ring-indigo-200 focus:ring-offset-1'\r\n        >\r\n          <svg\r\n            xmlns='http://www.w3.org/2000/svg'\r\n            viewBox='0 0 24 24'\r\n            fill='currentColor'\r\n            className='w-5 h-5 text-indigo-600'\r\n          >\r\n            <path\r\n              fillRule='evenodd'\r\n              d='M12 5.25a.75.75 0 01.75.75v5.25H18a.75.75 0 010 1.5h-5.25V18a.75.75 0 01-1.5 0v-5.25H6a.75.75 0 010-1.5h5.25V6a.75.75 0 01.75-.75z'\r\n              clipRule='evenodd'\r\n            />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      <ul className='border-r border-gray-300 pr-2'>\r\n        {projects.map((project, index) => (\r\n          <li key={index} className='flex justify-between'>\r\n            <Link to={project._id} onClick={(e) => handleLocation(e)}>\r\n              <div\r\n                className={`px-5 py-1.5 mb-1 text-gray-600 font text-sm capitalize select-none hover:text-indigo-600 rounded transition-colors hover:bg-indigo-200 ${\r\n                  paramsWindow === project._id &&\r\n                  \"text-indigo-600 bg-indigo-200/80\"\r\n                }`}\r\n              >\r\n                <span>{project.title}</span>\r\n                <br />\r\n                <span className='text-gray-500 text-sm'>\r\n                  Assigned: {moment(project.createdAt).format(\"DD-MM-YYYY\")}\r\n                </span>\r\n                <br />\r\n                <span className='text-red-600 text-sm'>\r\n                  Deadline: {moment(project.deadline).add(10, 'days').format(\"DD-MM-YYYY\")}\r\n                </span>\r\n              </div>\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <AddProjectModal isModalOpen={isModalOpen} closeModal={closeModal} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}