{"ast":null,"code":"import _regeneratorRuntime from\"E:/ENCRPYTIX/PROJECT-MANAGMENT-TOOL/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/ENCRPYTIX/PROJECT-MANAGMENT-TOOL/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/ENCRPYTIX/PROJECT-MANAGMENT-TOOL/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import toast from\"react-hot-toast\";import AddProjectModal from\"./AddProjectModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProjectDropdown=function ProjectDropdown(_ref){var id=_ref.id,navigate=_ref.navigate;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModalOpen=_useState2[0],setModalState=_useState2[1];var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,customEvent;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.delete(\"http://localhost:9000/project/\".concat(id));case 3:data=_context.sent;if(data.data.deletedCount>0){toast.success(\"Record deleted successfully\");navigate(\"/\");customEvent=new CustomEvent(\"projectUpdate\");document.dispatchEvent(customEvent);}else{toast.error(\"Record is already deleted\");}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);toast.error(\"Something went wrong\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function handleDelete(){return _ref2.apply(this,arguments);};}();var closeModal=function closeModal(){setModalState(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return setModalState(true);},className:\"transition-colors duration-75 flex w-full items-center rounded-md px-2.5 py-2 text-sm space-x-2.5 text-slate-500 hover:bg-indigo-500 hover:text-gray-100\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"currentColor\",width:15,viewBox:\"0 0 512 512\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7.8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"leading-none text-sm \",children:\"Edit\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDelete,className:\"transition-colors duration-75 flex w-full items-center rounded-md px-2.5 py-2 text-sm space-x-2 text-slate-500 hover:bg-red-500 hover:text-gray-100\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",width:17,viewBox:\"0 0 24 24\",strokeWidth:2.5,stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"leading-none text-sm \",children:\"Delete\"})]})]}),/*#__PURE__*/_jsx(AddProjectModal,{isModalOpen:isModalOpen,closeModal:closeModal,edit:true,id:id})]});};export default ProjectDropdown;","map":{"version":3,"names":["React","useState","axios","toast","AddProjectModal","ProjectDropdown","id","navigate","isModalOpen","setModalState","handleDelete","delete","data","deletedCount","success","customEvent","CustomEvent","document","dispatchEvent","error","closeModal"],"sources":["E:/ENCRPYTIX/PROJECT-MANAGMENT-TOOL/client/src/components/ProjectButton.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport toast from \"react-hot-toast\";\r\nimport AddProjectModal from \"./AddProjectModal\";\r\n\r\nconst ProjectDropdown = ({ id, navigate }) => {\r\n  const [isModalOpen, setModalState] = useState(false);\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      const data = await axios.delete(`http://localhost:9000/project/${id}`);\r\n      if (data.data.deletedCount > 0) {\r\n        toast.success(\"Record deleted successfully\");\r\n        navigate(\"/\");\r\n        const customEvent = new CustomEvent(\"projectUpdate\");\r\n        document.dispatchEvent(customEvent);\r\n      } else {\r\n        toast.error(\"Record is already deleted\");\r\n      }\r\n    } catch (e) {\r\n      toast.error(\"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setModalState(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='flex space-x-2'>\r\n        <button\r\n          onClick={() => setModalState(true)}\r\n          className='transition-colors duration-75 flex w-full items-center rounded-md px-2.5 py-2 text-sm space-x-2.5 text-slate-500 hover:bg-indigo-500 hover:text-gray-100'\r\n        >\r\n          <svg\r\n            xmlns='http://www.w3.org/2000/svg'\r\n            fill='currentColor'\r\n            width={15}\r\n            viewBox='0 0 512 512'\r\n          >\r\n            <path d='M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7.8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z' />\r\n          </svg>\r\n          <h2 className='leading-none text-sm '>Edit</h2>\r\n        </button>\r\n        <button\r\n          onClick={handleDelete}\r\n          className='transition-colors duration-75 flex w-full items-center rounded-md px-2.5 py-2 text-sm space-x-2 text-slate-500 hover:bg-red-500 hover:text-gray-100'\r\n        >\r\n          <svg\r\n            xmlns='http://www.w3.org/2000/svg'\r\n            fill='none'\r\n            width={17}\r\n            viewBox='0 0 24 24'\r\n            strokeWidth={2.5}\r\n            stroke='currentColor'\r\n          >\r\n            <path\r\n              strokeLinecap='round'\r\n              strokeLinejoin='round'\r\n              d='M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0'\r\n            />\r\n          </svg>\r\n          <h2 className='leading-none text-sm '>Delete</h2>\r\n        </button>\r\n      </div>\r\n      <AddProjectModal\r\n        isModalOpen={isModalOpen}\r\n        closeModal={closeModal}\r\n        edit={true}\r\n        id={id}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProjectDropdown;\r\n"],"mappings":"gZAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,KAAkB,iBAAlB,CACA,MAAOC,gBAAP,KAA4B,mBAA5B,C,6IAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,MAAsB,IAAnBC,GAAmB,MAAnBA,EAAmB,CAAfC,QAAe,MAAfA,QAAe,CAC5C,cAAqCN,QAAQ,CAAC,KAAD,CAA7C,wCAAOO,WAAP,eAAoBC,aAApB,eAEA,GAAMC,aAAY,6FAAG,gMAEER,MAAK,CAACS,MAAN,yCAA8CL,EAA9C,EAFF,QAEXM,IAFW,eAGjB,GAAIA,IAAI,CAACA,IAAL,CAAUC,YAAV,CAAyB,CAA7B,CAAgC,CAC9BV,KAAK,CAACW,OAAN,CAAc,6BAAd,EACAP,QAAQ,CAAC,GAAD,CAAR,CACMQ,WAHwB,CAGV,GAAIC,YAAJ,CAAgB,eAAhB,CAHU,CAI9BC,QAAQ,CAACC,aAAT,CAAuBH,WAAvB,EACD,CALD,IAKO,CACLZ,KAAK,CAACgB,KAAN,CAAY,2BAAZ,EACD,CAVgB,+EAYjBhB,KAAK,CAACgB,KAAN,CAAY,sBAAZ,EAZiB,oEAAH,kBAAZT,aAAY,2CAAlB,CAgBA,GAAMU,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvBX,aAAa,CAAC,KAAD,CAAb,CACD,CAFD,CAIA,mBACE,wCACE,aAAK,SAAS,CAAC,gBAAf,wBACE,gBACE,OAAO,CAAE,yBAAMA,cAAa,CAAC,IAAD,CAAnB,EADX,CAEE,SAAS,CAAC,0JAFZ,wBAIE,YACE,KAAK,CAAC,4BADR,CAEE,IAAI,CAAC,cAFP,CAGE,KAAK,CAAE,EAHT,CAIE,OAAO,CAAC,aAJV,uBAME,aAAM,CAAC,CAAC,qQAAR,EANF,EAJF,cAYE,WAAI,SAAS,CAAC,uBAAd,kBAZF,GADF,cAeE,gBACE,OAAO,CAAEC,YADX,CAEE,SAAS,CAAC,qJAFZ,wBAIE,YACE,KAAK,CAAC,4BADR,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAE,EAHT,CAIE,OAAO,CAAC,WAJV,CAKE,WAAW,CAAE,GALf,CAME,MAAM,CAAC,cANT,uBAQE,aACE,aAAa,CAAC,OADhB,CAEE,cAAc,CAAC,OAFjB,CAGE,CAAC,CAAC,wZAHJ,EARF,EAJF,cAkBE,WAAI,SAAS,CAAC,uBAAd,oBAlBF,GAfF,GADF,cAqCE,KAAC,eAAD,EACE,WAAW,CAAEF,WADf,CAEE,UAAU,CAAEY,UAFd,CAGE,IAAI,CAAE,IAHR,CAIE,EAAE,CAAEd,EAJN,EArCF,GADF,CA8CD,CArED,CAuEA,cAAeD,gBAAf"},"metadata":{},"sourceType":"module"}